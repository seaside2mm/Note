

# Edge

```cpp
struct BaseEdge
{
	/** @brief Returns the connected pose vertex.
	*/
	virtual PoseVertex* poseVertex() const = 0;

	/** @brief Returns the connected landmark vertex.
	*/
	virtual LandmarkVertex* landmarkVertex() const = 0;

	/** @brief Returns the dimension of measurement.
	*/
	virtual int dim() const = 0;

	/** @brief the destructor.
	*/
	virtual ~BaseEdge() {}
};


/** @brief Edge with N-dimensional measurement.
@tparam DIM dimension of the measurement vector.
*/
template <int DIM>
struct Edge : BaseEdge
{
	using Measurement = Array<double, DIM>;
	using Information = double; 

	Measurement measurement; //!< measurement vector.
	Information information; //!< information matrix (represented by a scalar for performance).
	PoseVertex* vertexP;     //!< connected pose vertex.
	LandmarkVertex* vertexL; //!< connected landmark vertex.
};
```


## 问题？
1. Motion only BA 中使用单目边 (Unary Edge), 只优化相机位姿。
2. 使用里程计时，增加 Pose 顶点之间的约束边。

# Vertex

```cpp
struct LandmarkVertex
{
	using Point3D = Array<double, 3>;

	Point3D Xw;              //!< 3D position of the landmark.
	bool fixed;              //!< if true, the state variables are fixed during optimization.
	int id;                  //!< ID of the vertex.
	int iL;                  //!< ID of the vertex (internally used).
	Set<BaseEdge*> edges;    //!< connected edges.
};

struct LandmarkVertex
{
	using Point3D = Array<double, 3>;

	Point3D Xw;              //!< 3D position of the landmark.
	bool fixed;              //!< if true, the state variables are fixed during optimization.
	int id;                  //!< ID of the vertex.
	int iL;                  //!< ID of the vertex (internally used).
	Set<BaseEdge*> edges;    //!< connected edges.
};
```


# BA 中对边与顶点的管理
